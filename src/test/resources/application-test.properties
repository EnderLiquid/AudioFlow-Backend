# 应用名称
spring.application.name=AudioFlowTest

# 数据库配置 - 使用真实MySQL
spring.datasource.url=jdbc:mysql://127.0.0.1:3306/audioflow?useSSL=false&serverTimezone=UTC
spring.datasource.username=root
spring.datasource.password=hachimi
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# MyBatis-Plus 配置
mybatis-plus.global-config.db-config.worker-id=${worker.id:0}
mybatis-plus.global-config.db-config.datacenter-id=${datacenter.id:0}
mybatis-plus.mapper-locations=classpath:mapper/*.xml

# Redis 配置（共享实例）
spring.data.redis.database=0
spring.data.redis.host=127.0.0.1
spring.data.redis.port=6379
spring.data.redis.password=hachimi

# 文件上传配置
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=20MB

# 文件保存配置 - 使用本地而非S3
spring.web.resources.add-mappings=true
file.storage.active=local
file.storage.local.storage-dir=./target/test-upload/
file.storage.local.url-prefix=http://127.0.0.1:8081/file/

# Sa-Token 配置（测试环境）
sa-token.token-name=satoken
sa-token.timeout=604800
sa-token.active-timeout=-1
sa-token.is-concurrent=true
sa-token.is-share=false
sa-token.token-style=uuid
sa-token.is-log=false

# 日志配置 - 减少测试日志输出
logging.level.root=WARN
logging.level.top.enderliquid.audioflow=WARN

# 异常处理配置
response.exception.expose-uncaught-exception-detail=true
